### NIO

NIO是 Not Blocking IO，即非阻塞的IO。
学习NIO编程，我们首先要了解几个概念。
**Buffer(缓冲区) ：**在基本IO操作中，所有的数据都是以流的形式操作的，而在NIO中，则都是使用缓冲区，所有的读写操作都是使用缓冲区完成的。缓冲区本质上是一块可以写入数据，然后可以从中读取数据的内存。这块内存被包装成NIO Buffer对象，并提供了一组方法，用来方便的访问该块内存。
**Channel(管道，通道)：**是一个TCP连接之间的抽象，一个Tcp连接可以对应多个Channel，而不是以前的方式只有一个通信信道，这个时候就减少TCP了连接的次数。
**Selector(选择器，多路复用器)：**轮询所有的注册通道，根据通道状态执行相关操作。状态包括：Connect，Accept，Read，Write。

在server端会创建一个Selector多路复用器，所有的客户端想和服务器建立连接都要创建一个SocketChannel注册到Selector上，然后Selector使用一个线程轮询着检测所有的注册的SocketChannel的状态，根据每个不同的通道的状态执行相关的代码。**NIO的本质就是避免原始的TCP建立连接使用三次握手的操作，减少连接的开销**.

![img](http://ifeve.com/wp-content/uploads/2013/06/overview-selectors.png)

###  补充：

**阻塞概念**：应用程序在获取网络数据的时候，如果网络传输很慢，那么程序就会一直处于等待状态，直到数据传输结束为止。
**非阻塞概念**：应用程序直接可以获取已经准备好的网络数据，无需等待。
io为同步阻塞的形式nio为同步非阻塞的形式。NIO1.0并没有实现异步的概念，在jdk1.7之后的NIO2.0才真正的实现了异步非阻塞的概念。
**同步**时：==应用程序==会直接参与IO读写操作，并且我们的程序会直接阻塞到某一个方法上，直到数据准备就绪。或者采用轮询的策略实时检查数据的就绪状态，如果就绪则获取数据。
**异步**时：就是所用IO操作交给==操作系统==处理，我们编写的应用程序不参与IO的操作，我们的程序不需要关心IO的读写，当操作系统完成了IO的读写操作时，会给我们的应用程序发送通知，我们的应用程序直接拿走数据即可。
同步说的是你的server服务器端的执行方式。

阻塞说的是具体的技术，接收数据的方式、状态。



https://blog.csdn.net/java852987/article/details/82895239

